{% extends 'base.html.twig' %}

{% block title %}Support Client - Agence{% endblock %}

{% block body %}
<!-- Hero Section -->
<div class="bg-gradient-primary text-white py-5 mb-5" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-3">Centre de Support</h1>
                <p class="lead mb-4">Notre √©quipe d'experts est l√† pour vous accompagner. D√©crivez-nous votre probl√®me et recevez une assistance personnalis√©e dans les plus brefs d√©lais.</p>
                <div class="d-flex gap-2">
                    <span class="badge bg-light text-dark px-3 py-2">üöÄ R√©ponse rapide</span>
                    <span class="badge bg-light text-dark px-3 py-2">üí° Solutions expertes</span>
                    <span class="badge bg-light text-dark px-3 py-2">‚≠ê Support 7j/7</span>
                </div>
            </div>
            <div class="col-lg-6 text-end">
                <i class="fas fa-headset" style="font-size: 8rem; opacity: 0.3;"></i>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-lg-8">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-white border-bottom-0 pt-4">
                    <h3 class="card-title mb-2 text-dark">Cr√©er un ticket de support</h3>
                    <p class="text-muted mb-0">Remplissez le formulaire ci-dessous pour nous faire part de votre demande</p>
                </div>
                <div class="card-body px-4 pb-4">
                
                {{ form_start(form, {'attr': {'class': 'needs-validation', 'novalidate': true}}) }}
                    <div class="row g-4">
                        <div class="col-md-6">
                            <label class="form-label fw-semibold text-dark">Votre adresse email *</label>
                            {{ form_widget(form.auteur, {'attr': {'class': 'form-control form-control-lg', 'placeholder': 'exemple@email.com'}}) }}
                            <div class="form-text">Nous utiliserons cette adresse pour vous contacter</div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-semibold text-dark">Type de demande *</label>
                            {{ form_widget(form.categorie, {'attr': {'class': 'form-select form-select-lg'}}) }}
                            <div class="form-text">S√©lectionnez la cat√©gorie qui correspond le mieux</div>
                        </div>
                        <div class="col-12">
                            <label class="form-label fw-semibold text-dark">Description de votre demande *</label>
                            {{ form_widget(form.description, {'attr': {'class': 'form-control', 'rows': 6, 'placeholder': 'D√©crivez votre probl√®me ou votre demande en d√©tail...'}}) }}
                            <div class="form-text">Plus vous √™tes pr√©cis, plus nous pourrons vous aider efficacement</div>
                        </div>
                        <div class="col-12">
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                {{ form_widget(form.submit, {'attr': {'class': 'btn btn-primary btn-lg px-5'}, 'label': 'üì® Envoyer ma demande'}) }}
                            </div>
                        </div>
                    </div>
                {{ form_end(form) }}
                
                <!-- Information post-envoi -->
                <div class="alert alert-info mt-4" role="alert">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-info-circle me-3" style="font-size: 1.5rem;"></i>
                        <div>
                            <h6 class="alert-heading mb-1">Apr√®s envoi de votre demande :</h6>
                            <p class="mb-0">‚Ä¢ Vous recevrez un <strong>num√©ro de ticket unique</strong> pour le suivi<br>
                            ‚Ä¢ Notre √©quipe sera <strong>automatiquement notifi√©e</strong><br>
                            ‚Ä¢ Un accus√© de r√©ception sera envoy√© √† votre adresse email</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-lg-4">
        <!-- Informations sur les services -->
        <div class="card shadow-sm border-0 mb-4">
            <div class="card-body">
                <h5 class="card-title text-dark mb-3">
                    <i class="fas fa-info-circle text-primary me-2"></i>
                    Types de demandes
                </h5>
                <div class="row g-3">
                    <div class="col-12">
                        <div class="d-flex align-items-center p-2 rounded bg-light">
                            <div class="me-3">
                                <i class="fas fa-exclamation-triangle text-danger" style="font-size: 1.2rem;"></i>
                            </div>
                            <div>
                                <strong>Incident</strong>
                                <small class="d-block text-muted">Probl√®me impr√©vu n√©cessitant une intervention</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="d-flex align-items-center p-2 rounded bg-light">
                            <div class="me-3">
                                <i class="fas fa-tools text-warning" style="font-size: 1.2rem;"></i>
                            </div>
                            <div>
                                <strong>Panne</strong>
                                <small class="d-block text-muted">Arr√™t complet d'un service ou √©quipement</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="d-flex align-items-center p-2 rounded bg-light">
                            <div class="me-3">
                                <i class="fas fa-lightbulb text-success" style="font-size: 1.2rem;"></i>
                            </div>
                            <div>
                                <strong>√âvolution</strong>
                                <small class="d-block text-muted">Demande d'am√©lioration ou nouvelle fonctionnalit√©</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="d-flex align-items-center p-2 rounded bg-light">
                            <div class="me-3">
                                <i class="fas fa-bug text-info" style="font-size: 1.2rem;"></i>
                            </div>
                            <div>
                                <strong>Anomalie</strong>
                                <small class="d-block text-muted">Comportement incorrect du syst√®me</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="d-flex align-items-center p-2 rounded bg-light">
                            <div class="me-3">
                                <i class="fas fa-question-circle text-secondary" style="font-size: 1.2rem;"></i>
                            </div>
                            <div>
                                <strong>Information</strong>
                                <small class="d-block text-muted">Demande de renseignement ou documentation</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Temps de r√©ponse -->
        <div class="card shadow-sm border-0 mb-4">
            <div class="card-body text-center">
                <i class="fas fa-clock text-primary mb-3" style="font-size: 2.5rem;"></i>
                <h5 class="card-title text-dark">Temps de r√©ponse</h5>
                <p class="text-muted mb-2">Notre √©quipe s'engage √† vous r√©pondre dans les d√©lais suivants :</p>
                <div class="row text-center">
                    <div class="col-6">
                        <div class="border rounded p-2">
                            <strong class="text-danger">Urgent</strong>
                            <div class="small text-muted">< 2h</div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="border rounded p-2">
                            <strong class="text-primary">Standard</strong>
                            <div class="small text-muted">< 24h</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        {% if not is_granted('ROLE_USER') %}
        <!-- Section d'appel √† l'action pour le personnel -->
        <div class="card shadow-sm border-0">
            <div class="card-body text-center">
                <i class="fas fa-user-tie text-primary mb-3" style="font-size: 2.5rem;"></i>
                <h5 class="card-title text-dark">Personnel de l'agence</h5>
                <p class="text-muted mb-3">Acc√©dez √† votre espace de travail pour g√©rer les tickets et utiliser les outils d'administration.</p>
                <a href="{{ path('app_login') }}" class="btn btn-outline-primary btn-lg">
                    <i class="fas fa-sign-in-alt me-2"></i>
                    Connexion Personnel
                </a>
            </div>
        </div>
        {% endif %}
    </div>
</div>

{% if is_granted('ROLE_USER') %}
<!-- Section navigation pour utilisateurs connect√©s -->
<div class="bg-light py-5 mt-5">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h3 class="text-dark mb-4">Espace Personnel</h3>
                <p class="text-muted mb-4">Acc√©dez rapidement √† vos outils de gestion</p>
                <div class="d-flex gap-3 justify-content-center flex-wrap">
                    <a href="{{ path('app_ticket_index') }}" class="btn btn-primary btn-lg">
                        <i class="fas fa-clipboard-list me-2"></i>
                        Gestion des Tickets
                    </a>
                    {% if is_granted('ROLE_ADMIN') %}
                        <a href="{{ path('app_admin_index') }}" class="btn btn-secondary btn-lg">
                            <i class="fas fa-cog me-2"></i>
                            Administration
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- Section informations contact (pour tous) -->
<div class="py-5 bg-dark text-white">
    <div class="container">
        <div class="row">
            <div class="col-lg-4 mb-4">
                <h5 class="mb-3">
                    <i class="fas fa-phone me-2"></i>
                    Contact d'urgence
                </h5>
                <p class="mb-2">En cas de probl√®me critique :</p>
                <p class="h6 text-warning">üìû 01 23 45 67 89</p>
                <small class="text-muted">Disponible 24h/24, 7j/7</small>
            </div>
            <div class="col-lg-4 mb-4">
                <h5 class="mb-3">
                    <i class="fas fa-envelope me-2"></i>
                    Support par email
                </h5>
                <p class="mb-2">Pour les demandes non urgentes :</p>
                <p class="h6 text-info">üìß support@agence.com</p>
                <small class="text-muted">R√©ponse sous 24h ouvr√©es</small>
            </div>
            <div class="col-lg-4 mb-4">
                <h5 class="mb-3">
                    <i class="fas fa-clock me-2"></i>
                    Horaires d'ouverture
                </h5>
                <p class="mb-1">Lundi - Vendredi : 8h00 - 18h00</p>
                <p class="mb-1">Samedi : 9h00 - 12h00</p>
                <p class="mb-0 text-muted">Ferm√© le dimanche</p>
            </div>
        </div>
    </div>
</div>
</div>
{% endblock %}
